def validSudoku(board):
    n = len(board)
    for i in range(n):
        if i != 8:
            j = (i * 3)%8
        else:
            j = 8

        if not check_value(i, j, n, board):
            return False
    return True
    
def check_value(x, y, n, board):
    table1 = {}
    for value in range(n):
        if board[x][value] != ".":
            if board[x][value] not in table1:
                table1[board[x][value]] = 1
            else:
                return False
    table2 = {}
    for value in range(n):
        if board[value][y] != ".":
            if board[value][y] not in table2:
                table2[board[value][y]] = 1
            else:
                return False
    
    table3 = {}
    board_x = (x//3 *3)
    board_y = (y//3 *3)
    for val_i in range(3):
        for val_j in range(3):
            if board[board_x + val_i][board_y + val_j] != ".":
                if board[board_x + val_i][board_y + val_j] not in table3:
                    table3[board[board_x + val_i][board_y + val_j]] = 1
                else:
                    print(table3, board[board_x + val_i][board_y + val_j])
                    return False
    return True

board =[[".",".",".",".","5",".",".","1","."],
        [".","4",".","3",".",".",".",".","."],
        [".",".",".",".",".","3",".",".","1"],
        ["8",".",".",".",".",".",".","2","."],
        [".",".","2",".","7",".",".",".","."],
        [".","1","5",".",".",".",".",".","."],
        [".",".",".",".",".","2",".",".","."],
        [".","2",".","9",".",".",".",".","."],
        [".",".","4",".",".",".",".",".","."]]

board2 =[["5","3",".",".","7",".",".",".","."],
        ["6",".",".","1","9","5",".",".","."],
        [".","9","8",".",".",".",".","6","."],
        ["8",".",".",".","6",".",".",".","3"],
        ["4",".",".","8",".","3",".",".","1"],
        ["7",".",".",".","2",".",".",".","6"],
        [".","6",".",".",".",".","2","8","."],
        [".",".",".","4","1","9",".",".","5"],
        [".",".",".",".","8",".",".","7","9"]]

board3 =[["1","2",".",".",".",".","6",".","7"],
        [".",".",".",".",".",".",".",".","5"],
        [".",".","9",".","6",".","4",".","."],
        [".","6",".",".",".",".",".",".","."],
        [".",".",".",".","4",".",".","7","."],
        [".",".",".",".",".",".",".",".","."],
        [".",".",".","5",".",".",".",".","."],
        [".",".",".",".",".",".",".",".","2"],
        [".","9",".",".",".",".",".",".","7"]]

print(validSudoku(board3))

